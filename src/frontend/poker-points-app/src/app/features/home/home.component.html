<main class="min-h-screen bg-white flex flex-col items-center justify-center p-6 relative overflow-hidden">
  <!-- Background decorative elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-poker-green-100 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-poker-green-50 rounded-full blur-3xl"></div>
    <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-poker-green-400 rounded-full animate-pulse"></div>
    <div class="absolute top-3/4 right-1/3 w-1.5 h-1.5 bg-poker-green-300 rounded-full animate-pulse-slow"></div>
    <div class="absolute bottom-1/4 left-1/3 w-1 h-1 bg-poker-green-500 rounded-full animate-bounce-subtle"></div>
  </div>

  <div class="text-center max-w-md w-full relative z-10">
    <!-- Logo / Brand -->
    <div class="mb-10">
      <div class="inline-flex items-center justify-center w-20 h-20 mb-4 rounded-2xl bg-gradient-to-br from-poker-green-500 to-poker-green-700 shadow-lg">
        <svg class="w-10 h-10 text-white" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-5-5 1.41-1.41L12 14.17l4.59-4.58L18 11l-6 6z"/>
        </svg>
      </div>
      <h1 class="text-5xl font-display font-bold text-gray-900 mb-3 tracking-tight">
        Estimagator
      </h1>
      <p class="text-lg text-gray-500 font-medium">
        Bite-sized estimation for agile teams
      </p>
    </div>

    <div class="space-y-5">
      <!-- Create Game Section -->
      <div class="glass-card p-6">
        @if (!showCreateOptions()) {
          <button
            (click)="toggleCreateOptions()"
            class="btn-primary w-full text-lg py-4"
            [disabled]="isCreating()"
          >
            <span class="flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
              </svg>
              Start New Game
            </span>
          </button>
        } @else {
          <div class="space-y-4">
            <div class="flex items-center justify-between">
              <h3 class="text-gray-900 font-semibold text-lg">Choose Your Deck</h3>
              <button
                (click)="toggleCreateOptions()"
                class="text-gray-400 hover:text-gray-600 transition-colors p-1"
              >
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>

            <div class="space-y-2">
              @for (deck of deckOptions; track deck.value) {
                <button
                  (click)="selectDeck(deck.value)"
                  class="w-full p-4 rounded-xl text-left transition-all duration-200 border-2 flex items-center gap-3"
                  [class]="selectedDeck() === deck.value
                    ? 'bg-poker-green-50 border-poker-green-500'
                    : 'bg-gray-50 border-gray-200 hover:bg-poker-green-50 hover:border-poker-green-200'"
                >
                  <div class="flex-1">
                    <div class="font-semibold text-gray-900">{{ deck.label }}</div>
                    <div class="text-sm text-gray-500 font-mono">{{ deck.preview }}</div>
                  </div>
                  <div class="w-5 h-5 rounded-full border-2 flex items-center justify-center"
                       [class]="selectedDeck() === deck.value
                         ? 'border-poker-green-500 bg-poker-green-500'
                         : 'border-gray-300'">
                    @if (selectedDeck() === deck.value) {
                      <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                      </svg>
                    }
                  </div>
                </button>
              }
            </div>

            <button
              (click)="createSession()"
              class="btn-primary w-full"
              [disabled]="isCreating()"
            >
              @if (isCreating()) {
                <span class="flex items-center justify-center gap-2">
                  <span class="spinner"></span>
                  Creating...
                </span>
              } @else {
                Create Game
              }
            </button>
          </div>
        }
      </div>

      <!-- Divider -->
      <div class="flex items-center gap-4 py-1">
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"></div>
        <span class="text-gray-400 text-sm font-medium uppercase tracking-wider">or join</span>
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"></div>
      </div>

      <!-- Join Game Section -->
      <div class="glass-card p-6">
        <form (submit)="joinSession(); $event.preventDefault()" class="space-y-4">
          <div>
            <label class="block text-gray-600 text-sm font-medium mb-2 text-left">Game Code</label>
            <input
              type="text"
              [value]="joinCode()"
              (input)="onJoinCodeInput($event)"
              placeholder="ABC123"
              maxlength="6"
              class="input-field text-center text-2xl font-mono tracking-[0.3em] uppercase"
            />
            @if (joinError()) {
              <p class="mt-2 text-red-500 text-sm flex items-center gap-1.5">
                <svg class="w-4 h-4 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                </svg>
                {{ joinError() }}
              </p>
            }
          </div>

          <button
            type="submit"
            class="btn-secondary w-full"
            [disabled]="isJoining() || !joinCode()"
          >
            @if (isJoining()) {
              <span class="flex items-center justify-center gap-2">
                <span class="spinner"></span>
                Finding game...
              </span>
            } @else {
              <span class="flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                </svg>
                Join Game
              </span>
            }
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="absolute bottom-6 text-gray-400 text-sm font-medium">
    <span class="opacity-75">Estimate</span>
    <span class="mx-2 text-poker-green-500">&#9830;</span>
    <span class="opacity-75">Reveal</span>
    <span class="mx-2 text-poker-green-500">&#9830;</span>
    <span class="opacity-75">Ship</span>
  </footer>
</main>
